#!/usr/bin/env python3\n\"\"\"\nç›´æ¥å¯åŠ¨åº”ç”¨ï¼ˆè·³è¿‡å¤æ‚æµ‹è¯•ï¼‰\n\"\"\"\n\nimport subprocess\nimport sys\nimport os\nfrom pathlib import Path\n\ndef main():\n    print(\"ğŸš€ ç›´æ¥å¯åŠ¨ç”¨æˆ·è¡Œä¸ºåˆ†æå¹³å°...\")\n    \n    # æ£€æŸ¥æ•°æ®æ–‡ä»¶\n    data_file = Path(\"data/events_ga4.ndjson\")\n    if not data_file.exists():\n        print(\"ğŸ“Š ç”Ÿæˆæµ‹è¯•æ•°æ®...\")\n        try:\n            subprocess.run([sys.executable, \"generate_clean_data.py\"], check=True)\n            print(\"âœ… æµ‹è¯•æ•°æ®ç”ŸæˆæˆåŠŸ\")\n        except:\n            print(\"âš ï¸ æµ‹è¯•æ•°æ®ç”Ÿæˆå¤±è´¥ï¼Œä½†ç»§ç»­å¯åŠ¨\")\n    \n    print(\"\\nğŸŒ å¯åŠ¨ Streamlit åº”ç”¨...\")\n    print(\"ğŸ“ åº”ç”¨åœ°å€: http://localhost:8501\")\n    print(\"â¹ï¸  æŒ‰ Ctrl+C åœæ­¢åº”ç”¨\")\n    print(\"\\n\" + \"=\" * 50)\n    \n    try:\n        # ç›´æ¥å¯åŠ¨ Streamlit\n        cmd = [sys.executable, \"-m\", \"streamlit\", \"run\", \"main.py\", \n               \"--server.port\", \"8501\"]\n        subprocess.run(cmd)\n    except KeyboardInterrupt:\n        print(\"\\nğŸ‘‹ åº”ç”¨å·²åœæ­¢\")\n    except Exception as e:\n        print(f\"âŒ å¯åŠ¨å¤±è´¥: {e}\")\n        print(\"\\nğŸ’¡ å°è¯•æ‰‹åŠ¨å¯åŠ¨:\")\n        print(\"   streamlit run main.py\")\n\nif __name__ == \"__main__\":\n    main()"